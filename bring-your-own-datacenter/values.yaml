byodc:
  # Set docker image and tag for the byodc
  image:
    name: ghcr.io/fiskaltrust/byodc
    # use to override the default version
    tag: 1.3-buster
    pullSecret: false
  # proxy settings for the byodc container maps to these env variables https://docs.docker.com/network/proxy/#set-the-environment-variables-manually
  proxy:
    http: null
    https: null
    "no": null
    ftp: null
    all: null
  # configuration settings for the byodc
  config:
    nodeSelector: {}
    redis:
      # hostname of the redis instance (only change if using external redis instance)
      host: redis.{{ .Release.Namespace }}
      # port of the redis instance (also sets the port for the internal redis instance)
      port: 6379
      channel: byodc
    applicationInsights:
      instrumentationKey: null
    # LogLevel of the byodc logs
    logLevel: Information
    # helipad used by the byodc
    helipad:
      baseUrl: https://helipad-sandbox.fiskaltrust.cloud
    # number of byodc instances
    replicas: 10
    # pod limits
    limits:
      cpu: 500m
      memory: 1000Mi
    # http timeouts
    timeout:
      all: 900_000
      connect: 15_000
    # array of environment variables (see https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#envvar-v1-core) for the byodc deployment
    env: null

fcc:
  # Set docker image and tag for the fcc
  image:
    name: fscloudapps.azurecr.io/servicestack/fiskal-cloud-connector
    # use to override the default version
    tag: latest
    pullSecret: false
  # proxy settings for the fcc container maps to these env variables https://docs.docker.com/network/proxy/#set-the-environment-variables-manually
  proxy:
    http: null
    https: null
    "no": null
    ftp: null
    all: null
  # configuration settings for the fcc
  config:
    nodeSelector: {}
    # pod limits
    limits:
      cpu: 1000m
      memory: 1500Mi
    # http timeouts
    # array of environment variables (see https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#envvar-v1-core) for the byodc deployment
    env: null
    storage:
      # storageClassName to use in the persistentVolumeClaim
      class: ""
      # storage capacity to request in the persistentVolumeClaim
      capacity: 1Gi
  instances: []

redis:
  # enable redis
  enabled: true
  config:
    nodeSelector: {}

loadbalancer:
  config:
    # tls config. see https://www.getambassador.io/docs/latest/howtos/tls-termination/#create-a-self-signed-certificate for information about `cert` and `key` files.
    # you can use `--set-file loadbalancer.config.tls.crt="./cert.pem"` to pass files to the helm command. please make sure the files start with `-----BEGIN [...]`.
    # the cert file may also contain intermediate certificates
    tls:
      # enables tls
      enabled: false
      # set cert as base64 encoded file contents
      crtBase64: null
      # set key as base64 encoded file contents
      keyBase64: null
      # set cert as file contents
      crt: null
      # set key as file contents
      key: null
    # hostname by which ambasador is reachable
    hostname: "*"

emissary-ingress:
  # installs emissary-ingress
  install: true
  # controls the replicacount of emissary
  replicaCount: 2
  # sets the emissary ingress pod node selector
  nodeSelector: {}
  scope:
    # neccesairy for running multiple deployments of byodc each with their own emissary-ingress
    singleNamespace: true
  service:
    # these are the ports the emissary-ingeress loadbalancer listenes on.
    # always set both entries with all keys in your config.yaml as these are not merged
    ports:
      # always set name to "http"
    - name: http
      # change this port for http
      port: 80
      targetPort: 8080
      # always set name to "https"
    - name: https
      # change this port for https
      port: 443
      targetPort: 8443